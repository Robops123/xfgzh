(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-adddevice-devicedetail"],{"0b31":function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("设备IMEI号：")]),i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"warn",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.more(e.form.devId)}}},[e._v("更多")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text"},model:{value:e.form.imei,callback:function(t){e.$set(e.form,"imei",t)},expression:"form.imei"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("设备名称：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text"},model:{value:e.form.devName,callback:function(t){e.$set(e.form,"devName",t)},expression:"form.devName"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("设备地址：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-view",{staticClass:"map-warpper"}),e.mapReady?i("baidu-map",{staticStyle:{width:"100%",height:"500upx"},attrs:{center:{lng:e.form.baiduLongitude,lat:e.form.baiduLatitude},zoom:15},on:{ready:function(t){arguments[0]=t=e.$handleEvent(t),e.handler.apply(void 0,arguments)}}},[i("bm-marker",{attrs:{position:{lng:e.form.baiduLongitude,lat:e.form.baiduLatitude},dragging:!1,zIndex:999999999,icon:{url:"http://developer.baidu.com/map/jsdemo/img/fox.gif",size:{width:34,height:34}}}})],1):e._e()],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("保修信息：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[e._v("设备购买时间："),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0},model:{value:e.form.buyDate,callback:function(t){e.$set(e.form,"buyDate",t)},expression:"form.buyDate"}})],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[e._v("购买商家："),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0},model:{value:e.form.buyCom,callback:function(t){e.$set(e.form,"buyCom",t)},expression:"form.buyCom"}})],1)],1)],1)},l=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return l}),i.d(t,"a",function(){return a})},1275:function(e,t,i){"use strict";i.r(t);var a=i("0b31"),n=i("8942");for(var l in n)"default"!==l&&function(e){i.d(t,e,function(){return n[e]})}(l);i("e0b8");var s,c=i("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"6b4e8e6c",null,!1,a["a"],s);t["default"]=o.exports},"42e9":function(e,t,i){var a=i("cdee");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("5c45a2bd",a,!0,{sourceMap:!1,shadowMode:!1})},6683:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i("f60b");var a={components:{},data:function(){return{mapReady:!1,address:"选择位置",form:{devId:"",baiduLongitude:"",baiduLatitude:"",contact:"",phone:"",address:"",imei:"",remark:"",buyTime:"",devName:""},markers:[]}},onLoad:function(e){var t=JSON.parse(e.item);console.log(t),this.form.devId=t.devId,this.form.address=t.devLocation,this.form.imei=t.imei,this.form.devName=t.devName,this.form.baiduLongitude=t.baiduLongitude,this.form.baiduLatitude=t.baiduLatitude,this.form.buyDate=t.buyDate,this.form.buyCom=t.buyCom,this.markers.push({id:t.id,latitude:t.baiduLatitude,longitude:t.baiduLongitude,iconPath:"/static/img/MiniSmokeTrans.png",callout:{content:t.devName,borderRadius:10,padding:10,display:"ALWAYS"}}),this.mapReady=!0},methods:{submit:function(){uni.switchTab({url:"/pages/index/index"})},more:function(e){uni.navigateTo({url:"/pages/adddevice/devicemore?id="+this.form.devId})},getLocation:function(){var e=this;0!==this.clickNum&&uni.showLoading({title:"获取中...",mask:!0}),this.clickNum>=3?uni.showToast({title:"请稍后尝试！",icon:"none",mask:!0}):(this.clickNum++,uni.getLocation({type:"gcj02",success:function(t){uni.hideLoading(),e.latitude=t.latitude,e.longitude=t.longitude,e.covers[1]={id:1,latitude:t.latitude,longitude:t.longitude,iconPath:"../../static/location.png"};var i=pointInsideCircle([e.latitude,e.longitude],[e.circles[0].latitude,e.circles[0].longitude],e.r/1e5);e.is=i,e.signInfo.latitude=t.latitude,e.signInfo.longitude=t.longitude,e.signInfo.mode=i?"正常打卡":"外勤打卡",e.getAdd()},fail:function(t){uni.hideLoading(),e.address="请检查位置信息！",uni.showToast({title:"请检查位置信息状态！",icon:"none",mask:!0,duration:3e3})}}))},openLocation:function(){var e=this;uni.chooseLocation({success:function(t){e.address=t.address,e.signInfo.address=t.address;var i=pointInsideCircle([e.latitude,e.longitude],[e.circles[0].latitude,e.circles[0].longitude],e.r/1e4);e.is=i}})},updated:function(){var e=this;wx.getLocation({type:"gcj02",success:function(t){e.latitude=t.latitude,e.longitude=t.longitude,e.nearDistance(e.markers,e.latitude,e.longitude)},fail:function(e){}})},regionchange:function(e){var t=this,i=wx.createMapContext("myMap",this);i.getCenterLocation({success:function(e){t.centerLatitude=e.latitude,t.centerLongitude=e.longitude,t.nearDistance(t.markers,t.centerLatitude,t.centerLongitude)},fail:function(e){}})},handler:function(e){var t=e.BMap,i=e.map,a=new t.Point(this.form.baiduLongitude,this.form.baiduLatitude);i.centerAndZoom(a,15);var n=new t.Marker(a);i.addOverlay(n);new t.Geolocation}}};t.default=a},8942:function(e,t,i){"use strict";i.r(t);var a=i("6683"),n=i.n(a);for(var l in a)"default"!==l&&function(e){i.d(t,e,function(){return a[e]})}(l);t["default"]=n.a},cdee:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-6b4e8e6c]{background:#dcdcdc;padding-bottom:%?100?%}.yt-list[data-v-6b4e8e6c]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-6b4e8e6c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-6b4e8e6c]{background:#fafafa}.yt-list-cell.b-b[data-v-6b4e8e6c]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-6b4e8e6c]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-6b4e8e6c]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-6b4e8e6c]{background:#3ab54a}.yt-list-cell .cell-tit[data-v-6b4e8e6c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#696969;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-6b4e8e6c]{font-size:%?26?%;color:#f85e52}.yt-list-cell .cell-tip.disabled[data-v-6b4e8e6c]{color:#f85e52}.yt-list-cell .cell-tip.active[data-v-6b4e8e6c]{color:#f85e52}.yt-list-cell .cell-tip.red[data-v-6b4e8e6c]{color:#f85e52}.yt-list-cell.desc-cell[data-v-6b4e8e6c]{position:relative}.yt-list-cell.desc-cell .cell-tit[data-v-6b4e8e6c]{max-width:%?160?%}.yt-list-cell .desc[data-v-6b4e8e6c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#a9a9a9}.yt-list-cell uni-switch[data-v-6b4e8e6c]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}.add-btn[data-v-6b4e8e6c]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?16?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}.mini-btn[data-v-6b4e8e6c]{line-height:32px;height:32px;margin-right:%?10?%}.map-warpper[data-v-6b4e8e6c]{position:absolute;left:0;top:0;z-index:99;width:100%;height:100%}body.?%PAGE?%[data-v-6b4e8e6c]{background:#dcdcdc}',""])},e0b8:function(e,t,i){"use strict";var a=i("42e9"),n=i.n(a);n.a},f60b:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.handleSignClick=l,t.setSignInfo=s,t.addSignInfo=c,t.getSignInfo=o,t.delSignInfo=d,t.getInfo=u,t.key=void 0;var n=a(i("f499"));function l(){console.log(1)}function s(e){var t={main:[e]};uni.setStorageSync("signInfo",(0,n.default)(t))}function c(e,t){t.main.push(e),uni.setStorageSync("signInfo",(0,n.default)(t))}function o(){var e=uni.getStorageSync("signInfo");if(e)return JSON.parse(e)}function d(){uni.removeStorage({key:"signInfo",success:function(){uni.showToast({title:"重置成功"})}})}function u(e){var t=new Date,i={mode:e.mode,nowT:t,address:e.address,time:e.time,latitude:e.latitude,longitude:e.longitude,remarks:e.remarks};return i}var r="VEEBZ-HJL34-U3LUY-XUBOX-NSUF7-E4BRF";t.key=r}}]);