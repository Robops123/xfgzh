(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-adddevice-devicedetail"],{"35de":function(t,e,i){"use strict";i.r(e);var a=i("b48b"),n=i("df68");for(var l in n)"default"!==l&&function(t){i.d(e,t,function(){return n[t]})}(l);i("b211");var s,d=i("f0c5"),o=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"3a4b77d0",null,!1,a["a"],s);e["default"]=o.exports},"4e0d":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.handleSignClick=l,e.setSignInfo=s,e.addSignInfo=d,e.getSignInfo=o,e.delSignInfo=c,e.getInfo=u,e.key=void 0;var n=a(i("f499"));function l(){console.log(1)}function s(t){var e={main:[t]};uni.setStorageSync("signInfo",(0,n.default)(e))}function d(t,e){e.main.push(t),uni.setStorageSync("signInfo",(0,n.default)(e))}function o(){var t=uni.getStorageSync("signInfo");if(t)return JSON.parse(t)}function c(){uni.removeStorage({key:"signInfo",success:function(){uni.showToast({title:"重置成功"})}})}function u(t){var e=new Date,i={mode:t.mode,nowT:e,address:t.address,time:t.time,latitude:t.latitude,longitude:t.longitude,remarks:t.remarks};return i}var r="VEEBZ-HJL34-U3LUY-XUBOX-NSUF7-E4BRF";e.key=r},"9ff7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("4e0d");var a={components:{},data:function(){return{mapReady:!1,address:"选择位置",form:{devId:"",baiduLongitude:"",baiduLatitude:"",contact:"",phone:"",address:"",imei:"",remark:"",buyTime:"",devName:""},markers:[]}},onLoad:function(t){var e=JSON.parse(t.item);console.log(e),this.form.devId=e.devId,this.form.address=e.devLocation,this.form.imei=e.imei,this.form.devName=e.devName,this.form.baiduLongitude=e.baiduLongitude,this.form.baiduLatitude=e.baiduLatitude,this.form.buyDate=e.buyDate,this.form.buyCom=e.buyCom,this.markers.push({id:e.id,latitude:e.baiduLatitude,longitude:e.baiduLongitude,iconPath:"/static/img/MiniSmokeTrans.png",callout:{content:e.devName,borderRadius:10,padding:10,display:"ALWAYS"}}),this.mapReady=!0},methods:{submit:function(){uni.switchTab({url:"/pages/index/index"})},more:function(t){uni.navigateTo({url:"/pages/adddevice/devicemore?id="+this.form.devId})},getLocation:function(){var t=this;0!==this.clickNum&&uni.showLoading({title:"获取中...",mask:!0}),this.clickNum>=3?uni.showToast({title:"请稍后尝试！",icon:"none",mask:!0}):(this.clickNum++,uni.getLocation({type:"gcj02",success:function(e){uni.hideLoading(),t.latitude=e.latitude,t.longitude=e.longitude,t.covers[1]={id:1,latitude:e.latitude,longitude:e.longitude,iconPath:"../../static/location.png"};var i=pointInsideCircle([t.latitude,t.longitude],[t.circles[0].latitude,t.circles[0].longitude],t.r/1e5);t.is=i,t.signInfo.latitude=e.latitude,t.signInfo.longitude=e.longitude,t.signInfo.mode=i?"正常打卡":"外勤打卡",t.getAdd()},fail:function(e){uni.hideLoading(),t.address="请检查位置信息！",uni.showToast({title:"请检查位置信息状态！",icon:"none",mask:!0,duration:3e3})}}))},openLocation:function(){var t=this;uni.chooseLocation({success:function(e){t.address=e.address,t.signInfo.address=e.address;var i=pointInsideCircle([t.latitude,t.longitude],[t.circles[0].latitude,t.circles[0].longitude],t.r/1e4);t.is=i}})},updated:function(){var t=this;wx.getLocation({type:"gcj02",success:function(e){t.latitude=e.latitude,t.longitude=e.longitude,t.nearDistance(t.markers,t.latitude,t.longitude)},fail:function(t){}})},regionchange:function(t){var e=this,i=wx.createMapContext("myMap",this);i.getCenterLocation({success:function(t){e.centerLatitude=t.latitude,e.centerLongitude=t.longitude,e.nearDistance(e.markers,e.centerLatitude,e.centerLongitude)},fail:function(t){}})},handler:function(t){var e=t.BMap,i=t.map,a=new e.Point(this.form.baiduLongitude,this.form.baiduLatitude);i.centerAndZoom(a,15);var n=new e.Marker(a);i.addOverlay(n);new e.Geolocation}}};e.default=a},b0ac:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-3a4b77d0]{background:#dcdcdc;padding-bottom:%?100?%}.yt-list[data-v-3a4b77d0]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-3a4b77d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-3a4b77d0]{background:#fafafa}.yt-list-cell.b-b[data-v-3a4b77d0]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-3a4b77d0]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-3a4b77d0]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-3a4b77d0]{background:#3ab54a}.yt-list-cell .cell-tit[data-v-3a4b77d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#696969;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-3a4b77d0]{font-size:%?26?%;color:#f85e52}.yt-list-cell .cell-tip.disabled[data-v-3a4b77d0]{color:#f85e52}.yt-list-cell .cell-tip.active[data-v-3a4b77d0]{color:#f85e52}.yt-list-cell .cell-tip.red[data-v-3a4b77d0]{color:#f85e52}.yt-list-cell.desc-cell[data-v-3a4b77d0]{position:relative}.yt-list-cell.desc-cell .cell-tit[data-v-3a4b77d0]{max-width:%?160?%}.yt-list-cell .desc[data-v-3a4b77d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#a9a9a9}.yt-list-cell uni-switch[data-v-3a4b77d0]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}.add-btn[data-v-3a4b77d0]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?16?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}.mini-btn[data-v-3a4b77d0]{line-height:32px;height:32px;margin-right:%?10?%}.map-warpper[data-v-3a4b77d0]{position:absolute;left:0;top:0;z-index:99;width:100%;height:100%}body.?%PAGE?%[data-v-3a4b77d0]{background:#dcdcdc}',""])},b211:function(t,e,i){"use strict";var a=i("c4ac"),n=i.n(a);n.a},b48b:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备IMEI号：")]),i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.more(t.form.devId)}}},[t._v("更多")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text"},model:{value:t.form.imei,callback:function(e){t.$set(t.form,"imei",e)},expression:"form.imei"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备名称：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text"},model:{value:t.form.devName,callback:function(e){t.$set(t.form,"devName",e)},expression:"form.devName"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备地址：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-view",{staticClass:"map-warpper"}),t.mapReady?i("baidu-map",{staticStyle:{width:"100%",height:"500upx"},attrs:{center:{lng:t.form.baiduLongitude,lat:t.form.baiduLatitude},zoom:15},on:{ready:function(e){arguments[0]=e=t.$handleEvent(e),t.handler.apply(void 0,arguments)}}},[i("bm-marker",{attrs:{position:{lng:t.form.baiduLongitude,lat:t.form.baiduLatitude},dragging:!1,zIndex:999999999,icon:{url:"http://developer.baidu.com/map/jsdemo/img/fox.gif",size:{width:34,height:34}}}})],1):t._e()],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("保修信息：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[t._v("设备购买时间："),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0},model:{value:t.form.buyDate,callback:function(e){t.$set(t.form,"buyDate",e)},expression:"form.buyDate"}})],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[t._v("购买商家："),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0},model:{value:t.form.buyCom,callback:function(e){t.$set(t.form,"buyCom",e)},expression:"form.buyCom"}})],1)],1)],1)},l=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return l}),i.d(e,"a",function(){return a})},c4ac:function(t,e,i){var a=i("b0ac");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("101e5cda",a,!0,{sourceMap:!1,shadowMode:!1})},df68:function(t,e,i){"use strict";i.r(e);var a=i("9ff7"),n=i.n(a);for(var l in a)"default"!==l&&function(t){i.d(e,t,function(){return a[t]})}(l);e["default"]=n.a}}]);