(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"1b9a":function(t,i,e){var a=e("c185");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("16703c34",a,!0,{sourceMap:!1,shadowMode:!1})},"1f5b":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".grid-title[data-v-8a8375d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;color:rgba(0,0,0,.63);padding:%?30?% 0}.grid-title uni-view[data-v-8a8375d8]{width:%?8?%;height:%?30?%;background-color:#ff5241;margin-right:%?20?%}.grid[data-v-8a8375d8]{display:-webkit-flex;display:flex;padding:10px 0;background:#fff;display:-webkit-box;max-width:99999px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;border-top:%?2?% solid hsla(0,0%,67.5%,.2)}.grid .grid-item-3[data-v-8a8375d8],.grid .grid-item-4[data-v-8a8375d8]{background-color:#f7f7f7;box-sizing:border-box;width:%?220?%;border-radius:3px;margin-left:10px;padding:0 %?10?%;border-bottom:%?2?% solid hsla(0,0%,67.5%,.2);border-right:%?2?% solid hsla(0,0%,67.5%,.2);text-align:center;position:relative}.grid .grid-item-3 uni-image[data-v-8a8375d8],.grid .grid-item-4 uni-image[data-v-8a8375d8]{width:%?74?%;height:%?74?%;vertical-align:middle}.grid .grid-item-3 uni-view[data-v-8a8375d8],.grid .grid-item-4 uni-view[data-v-8a8375d8]{font-size:%?28?%;margin-top:%?6?%}.grid .repair[data-v-8a8375d8]{background-color:#ededed;color:#5b6ba3}.grid .repair uni-image[data-v-8a8375d8]{width:16px;height:16px}.grid .grid-item-3[data-v-8a8375d8]:nth-child(3n+3),.grid .grid-item-4[data-v-8a8375d8]:nth-child(4n+4){border-right:none}.grid .grid-item-4[data-v-8a8375d8]{width:calc(100% / 4)}.grid .fa-icon[data-v-8a8375d8]{display:block;padding:%?4?% %?8?%;text-align:center;border-radius:%?36?%;font-size:%?40?%;background-color:#ff5241;color:#fff;position:absolute;right:%?20?%;top:%?10?%}",""])},3002:function(t,i,e){"use strict";e.r(i);var a=e("6964"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},3027:function(t,i,e){"use strict";e.r(i);var a=e("9de8"),n=e("3002");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("c0e4");var r,c=e("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"bc6aa3aa",null,!1,a["a"],r);i["default"]=s.exports},"39c3":function(t,i,e){"use strict";e.r(i);var a=e("e195"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"478f":function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"grid"},[3==t.col?t._l(t.gridList,function(i,a){return e("v-uni-view",{key:a,staticClass:"grid-item-3",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.gridClick(i,a)}}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},["0"==i.devState?e("v-uni-view",{staticStyle:{color:"#47CC9F"}},[t._v("在线")]):t._e(),"1"==i.devState?e("v-uni-view",{staticStyle:{color:"#A8A8A8"}},[t._v("离线")]):t._e(),"0"==i.isWarn?e("v-uni-view",{staticStyle:{color:"#464E52"}},[t._v("无告警")]):t._e(),"1"==i.isWarn?e("v-uni-view",{staticStyle:{color:"#FF5567"}},[t._v("普通告警")]):t._e(),"2"==i.isWarn?e("v-uni-view",{staticStyle:{color:"#FF5567"}},[t._v("超时告警")]):t._e()],1),"0"==i.devState?e("v-uni-image",{attrs:{src:"../../static/img/cameraIcoOnline.png",mode:""}}):t._e(),"1"==i.devState?e("v-uni-image",{attrs:{src:"../../static/img/cameraIcoOffline.png",mode:""}}):t._e(),e("v-uni-view",[t._v(t._s(i.devName))]),e("v-uni-view",{staticClass:"repair",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.repair(i,a)}}},[e("v-uni-image",{attrs:{src:"../../static/img/setIco@2x.png",mode:""}}),t._v("设备报修")],1)],1)}):t._e()],2)],1)},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return a})},6964:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("386d"),e("4917"),e("3b2b"),e("96cf");var n=a(e("3b8d"));e("ac6a");var o=a(e("9d0f")),r=a(e("8d03")),c=a(e("8a0c")),s=a(e("039f")),d=a(e("610a")),l={components:{zyGrid:r.default,hchPosition:c.default,minActionSheet:o.default},data:function(){return{markersReady:!1,refresh:!1,canvas:!0,cWidth:"",cHeight:"",usertype:"",timer:null,arr:[],storeData:[{id:1,name:"可燃气体检测仪222",address:"厦门市思明区汇景商业广场XXX1号",tel:"12345678900"},{id:2,name:"可燃气体检测仪",address:"厦门市思明区汇景商业广场XXX2号",tel:"12345678900"}],markers:[],baseUrl:"",deviceList:[],deviceTypeList:[{name:"扫一扫",icon:"iconfont active",color:"#007aff",image:"/static/img/scanCode.png"}]}},onShow:function(){var t=this;this.usertype=uni.getStorageSync("usertype"),this.refresh&&(this.refresh=!1,this.init(),f()&&this.getCode()),this.timer=setInterval(t.getDevState,3e4)},onHide:function(){window.clearInterval(this.timer)},onLoad:function(t){var i=this;uni.$on("update",function(t){i.init()}),this.init(),f()},methods:{init:function(){this.cWidth=uni.upx2px(750),this.cHeight=uni.upx2px(400),this.query(),this.getDeviceTypeList()},getDeviceList:function(t){var i=this;if(d.default.showLoading(),"gr"==this.usertype){var e={openId:"wx123456789",devLocation:t||""};s.default.apiGet("/toc/device/list",e).then(function(t){if("0"==t.code){i.deviceList=t.data.filter(function(t){return""!=t.baiduLatitude});i.markers=t.data.filter(function(t){return""!=t.baiduLatitude}),i.markersReady=!0,i.getDevState(),d.default.hideLoading()}else d.default.hideLoading(),d.default.showToast(t.msg)}).catch(function(t){d.default.hideLoading(),d.default.showToast(t)})}else if("dw"==this.usertype){e={openId:"wx123456"};s.default.apiGet("/toc/device/list",e).then(function(t){if("0"==t.code){i.deviceList=t.data.filter(function(t){return""!=t.baiduLatitude});i.markers=t.data.filter(function(t){return""!=t.baiduLatitude}),i.markersReady=!0,i.getDevState(),d.default.hideLoading()}else d.default.hideLoading(),d.default.showToast(t.msg)}).catch(function(t){d.default.hideLoading(),d.default.showToast(t)})}},AddDevice:function(){var t=this,i=this;this.$refs.as.handleShow({actions:i.deviceTypeList,success:function(e){switch(e.id){case-1:uni.showToast({title:"取消成功"});break;case 0:t.addtype(e.devName);break;case 1:t.addtype(e.devName);break;case i.deviceTypeList.length-1:t.scanQrCode();break}}})},addtype:function(t){var i=this;this.$refs.as1.handleShow({actions:[{name:"手动添加",icon:"iconfont active",color:"#007aff",image:"http://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"},{name:"扫一扫",icon:"iconfont active",color:"#007aff",image:"/static/img/scanCode.png"}],success:function(e){switch(e.id){case-1:uni.showToast({title:"取消成功"});break;case 0:uni.navigateTo({url:"/pages/adddevice/adddevice?type="+t});break;case 1:i.scanQrCode();break}}})},getDeviceTypeList:function(){var t=this,i={openId:"wx123456789"};s.default.apiGet("/toc/deviceType/list",i).then(function(i){"0"==i.code&&(i.data.forEach(function(i){t.deviceTypeList.unshift({name:i.typeName,icon:i.iconUrl,color:"#007aff",typeId:i.typeId})}),t.getDeviceList())})},getDevState:function(){var t=this,i={openId:"wx123456789"};s.default.apiGet("/toc/device/listDevState/",i).then(function(i){"0"==i.code&&(i.data.forEach(function(i,e){t.deviceList.forEach(function(e,a){i.devId==e.devId&&(t.deviceList[a].isWarn=i.isWarn,t.deviceList[a].devState=i.devState,t.$forceUpdate())})}),console.log(t.deviceList))})},pulldata:function(t){this.deviceList=[t]},departures:function(t){switch(t){case"烟感":return{introduce:"烟感报警器",icon:"/static/img/MiniSmokeTrans.png"};case"可燃气体":return{introduce:"可燃气体监测仪",icon:"/static/img/MiniGgasMonitor.png"}}},query:function(){},jump:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]},scanQrCode:function(){uni.scanCode({success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result)}})},change:function(t,i,e){this.$refs[this.arr[t].id][0].changeData(this.arr[t].id,this.arr[t].opts,i,e)},findFamilyQYByList:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){var i,e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i={loading:!0,url:this.HostURL+this.serviceSRV,data:{p_service:"familySjService",p_method:"findFamilyQYByTotalList",startTime:this.startTime,endTime:this.endTime,regcodes:this.divisionCode[0],pageNo:1,pageSize:10,token:this.token}},t.next=3,this.$api.get(i);case 3:e=t.sent,a=this.$api.ErrTip(e),a&&a.list&&(n={type:"column",categories:[],series:[{name:"户数",data:[]}]},a.list.forEach(function(t){t.name&&t.cnt&&(n.categories.push(t.name),n.series[0].data.push(t.cnt))}),this.$refs[this.arr[2].id][0].changeData(this.arr[2].id,n,"column","group"));case 6:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),getCode:function(){var t="wx72d5703c23ec2632",i=u("code"),e="http://xf.wxtih.com";console.log("https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(t,"&redirect_uri=").concat(encodeURIComponent(e),"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect")),null!=i&&""!==i||(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(t,"&redirect_uri=").concat(encodeURIComponent(e),"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"))},goRepair:function(){uni.navigateTo({url:"/pages/repair/repairList"})},goDevice:function(){uni.navigateTo({url:"/pages/personCenter/mydevice"})},goWarnhistroy:function(){uni.navigateTo({url:"/pages/personCenter/warnhistroy"})}}};i.default=l;var u=function(t){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(i);return null!=e?unescape(e[2]):null},f=function(){return"micromessenger"===String(navigator.userAgent.toLowerCase().match(/MicroMessenger/i))}},"79d1":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-bc6aa3aa]{background:#f5f5f5}.m-t[data-v-bc6aa3aa]{margin-top:%?16?%}\n/* 头部 轮播图 */.carousel-section[data-v-bc6aa3aa]{position:relative;padding-top:10px;background-color:#f0ad4e}.carousel-section .titleNview-placing[data-v-bc6aa3aa]{height:0;padding-top:38px;box-sizing:initial}.carousel-section .titleNview-background[data-v-bc6aa3aa]{position:absolute;top:0;left:0;width:100%;height:%?426?%;-webkit-transition:.4s;transition:.4s}.grid-title[data-v-bc6aa3aa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;color:rgba(0,0,0,.63);padding:%?30?% 0}.grid-title uni-view[data-v-bc6aa3aa]{width:%?8?%;height:%?30?%;background-color:#ff5241;margin-right:%?20?%}.fl-row[data-v-bc6aa3aa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.bgwh[data-v-bc6aa3aa]{background-color:#fff}\n/*白色*/.g6[data-v-bc6aa3aa]{color:#666}\n/*浅黑*/.tc[data-v-bc6aa3aa]{text-align:center}.f30[data-v-bc6aa3aa]{font-size:%?30?%}.p10[data-v-bc6aa3aa]{padding:%?10?%}.mt10[data-v-bc6aa3aa]{margin-top:%?10?%}.mb10[data-v-bc6aa3aa]{margin-bottom:%?10?%}.ml10[data-v-bc6aa3aa]{margin-left:%?10?%}.mr10[data-v-bc6aa3aa]{margin-right:%?10?%}.ml30[data-v-bc6aa3aa]{width:70%}.qiun-title-bar[data-v-bc6aa3aa]{width:96%;padding:%?10?% 2%;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.container[data-v-bc6aa3aa]{box-sizing:border-box;height:100%;background-color:#efeff4}.content[data-v-bc6aa3aa]{width:%?750?%;height:calc(100% - %?100?%);background-color:#efeff4}.title[data-v-bc6aa3aa]{line-height:%?80?%;background-color:#fafafa;text-indent:%?20?%;font-size:%?30?%;color:#000;letter-spacing:1px}.i-cube[data-v-bc6aa3aa]{width:%?12?%;height:%?34?%;background-color:#51b3f7;margin-right:%?20?%;margin-top:10px}.s-btn[data-v-bc6aa3aa]{font-size:%?28?%;background-color:initial;color:#f6a121;line-height:1.8;height:%?48?%;padding-left:%?20?%;padding-right:%?20?%}.s-btn[data-v-bc6aa3aa]:after{border:%?2?% solid #8799a3}.s-btn-hover[data-v-bc6aa3aa]{background-color:#f6a121;color:#fff}.s-btn1[data-v-bc6aa3aa]{font-size:%?28?%;background-color:initial;color:#f6a121;line-height:1.8;height:%?48?%;padding-left:%?20?%;padding-right:%?20?%}.s-btn1[data-v-bc6aa3aa]:after{border:%?2?% solid #8799a3}.s-btn1-hover[data-v-bc6aa3aa]{background-color:#007aff;color:#fff}.xieyi[data-v-bc6aa3aa]{margin-left:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;font-size:%?30?%;margin-top:%?20?%;color:#ffa800;height:%?40?%;line-height:%?40?%}.link-highlight[data-v-bc6aa3aa]{color:#00f}.fullscreen[data-v-bc6aa3aa]{height:calc(100vh - 50px)}.top-entrance[data-v-bc6aa3aa]{position:absolute;height:96px;top:0;left:0;width:100%;z-index:999}.bg-wrapper[data-v-bc6aa3aa]{position:absolute;top:0;left:0;width:100%;height:100%;background:#040b29;opacity:.89;box-shadow:0 2px 4px #b1b4bf}.bg-content[data-v-bc6aa3aa]{position:relative;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.bg-content uni-image[data-v-bc6aa3aa]{width:25px;height:25px;margin:24px 0 7px}.bg-item[data-v-bc6aa3aa]{color:#fff;height:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}body.?%PAGE?%[data-v-bc6aa3aa]{background:#f5f5f5}',""])},"7cf3":function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"min-action",class:{"min-action-show":t.show},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i)}}},[e("v-uni-view",{staticClass:"min-action-mask",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleMaskClick.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"min-action-main",class:{"min-action-main-show":t.show}},[e("v-uni-view",{staticClass:"min-action-header min-action-line"},[t._t("default")],2),t._l(t.actions,function(i,a){return e("v-uni-view",{key:a,staticClass:"min-action-btn min-action-flex min-action-line",style:[i.color?{color:i.color}:""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleClick(a)}}},[1===i.loading?e("v-uni-view",{staticClass:"min-action-loading min-action-icon"}):t._e(),i.image?e("v-uni-image",{staticClass:"min-action-icon",attrs:{src:i.image}}):t._e(),e("v-uni-view",[t._v(t._s(i.name))])],1)}),t.showCancel?e("v-uni-view",{staticClass:"min-action-cancel"},[e("v-uni-view",{staticClass:"min-action-flex min-action-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleClick(-1)}}},[t._v(t._s(t.cancelText))])],1):t._e()],2)],1)},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return a})},8871:function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"page-body"},[e("v-uni-view",{staticClass:"page-section page-section-gap"},[t.markers.length>0&&"gr"==t.usertype?e("baidu-map",{staticStyle:{width:"100%",height:"calc(100vh - 94px)"},attrs:{center:{lng:t.markers[0].baiduLongitude,lat:t.markers[0].baiduLatitude},zoom:t.zoom,"scroll-wheel-zoom":!0},on:{ready:function(i){arguments[0]=i=t.$handleEvent(i),t.handler.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.getClickInfo.apply(void 0,arguments)}}},[e("bml-marker-clusterer",{attrs:{averageCenter:!0}},t._l(t.markers,function(i,a){return e("bm-marker",{attrs:{position:{lng:i.baiduLongitude,lat:i.baiduLatitude},dragging:!1,title:t.departures(i.typeName).introduce},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clusterclick(i)}}},[e("bm-label",{attrs:{content:t.departures(i.typeName).introduce,labelStyle:{color:"black",fontSize:"16px"},offset:{width:-25,height:-30}}})],1)}),1)],1):t._e(),t.markers.length>0&&"dw"==t.usertype?e("baidu-map",{staticClass:"fullscreen",staticStyle:{width:"100%",height:"calc(100vh - 94)"},attrs:{center:{lng:t.markers[0].longitude,lat:t.markers[0].latitude},zoom:t.zoom,"scroll-wheel-zoom":!0},on:{ready:function(i){arguments[0]=i=t.$handleEvent(i),t.handler.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.getClickInfo.apply(void 0,arguments)}}},[e("bml-marker-clusterer",{attrs:{averageCenter:!0}},t._l(t.markers,function(i,a){return e("bm-marker",{attrs:{position:{lng:i.longitude,lat:i.latitude},dragging:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clusterclick2(i)}}})}),1),e("bm-info-window",{staticClass:"infowindow",attrs:{show:t.show,position:{lng:t.info.longitude,lat:t.info.latitude}},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.infoWindowClose.apply(void 0,arguments)},open:function(i){arguments[0]=i=t.$handleEvent(i),t.infoWindowOpen.apply(void 0,arguments)}}},[e("v-uni-view",[e("v-uni-view",[e("v-uni-image",{attrs:{src:"../../static/selected.png",mode:""}}),t._v(t._s(t.info.describe))],1),e("v-uni-view",[e("v-uni-image",{attrs:{src:"../../static/定位.png",mode:""}}),t._v(t._s(t.info.location))],1),e("v-uni-view",{staticClass:"time"},[t._v(t._s(t.info.location))])],1)],1)],1):t._e()],1)],1)],1)},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return a})},8979:function(t,i,e){"use strict";var a=e("1b9a"),n=e.n(a);n.a},"8a0c":function(t,i,e){"use strict";e.r(i);var a=e("8871"),n=e("8b26");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("8979");var r,c=e("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"571cd40b",null,!1,a["a"],r);i["default"]=s.exports},"8b26":function(t,i,e){"use strict";e.r(i);var a=e("d8e9"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"8b40":function(t,i,e){var a=e("79d1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("79c5dbb3",a,!0,{sourceMap:!1,shadowMode:!1})},"8d03":function(t,i,e){"use strict";e.r(i);var a=e("478f"),n=e("39c3");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("ade4");var r,c=e("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"8a8375d8",null,!1,a["a"],r);i["default"]=s.exports},"9d0f":function(t,i,e){"use strict";e.r(i);var a=e("7cf3"),n=e("d0b9");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("a27d");var r,c=e("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"b1bdde5c",null,!1,a["a"],r);i["default"]=s.exports},"9de8":function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"top-entrance"},[e("v-uni-view",{staticClass:"bg-wrapper"}),e("v-uni-view",{staticClass:"bg-content"},[e("v-uni-view",{staticClass:"bg-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDevice.apply(void 0,arguments)}}},[e("v-uni-view",[e("v-uni-image",{attrs:{src:"../../static/img/quickNavicoSB@2x.png",mode:""}})],1),e("v-uni-view",[e("v-uni-text",[t._v("我的设备")])],1)],1),e("v-uni-view",{staticClass:"bg-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goRepair.apply(void 0,arguments)}}},[e("v-uni-view",[e("v-uni-image",{attrs:{src:"../../static/img/quickNavicoBX@2x.png",mode:""}})],1),e("v-uni-view",[e("v-uni-text",[t._v("我的报修")])],1)],1),e("v-uni-view",{staticClass:"bg-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goWarnhistroy.apply(void 0,arguments)}}},[e("v-uni-view",[e("v-uni-image",{attrs:{src:"../../static/img/quickNavicoGJ@2x.png",mode:""}})],1),e("v-uni-view",[e("v-uni-text",[t._v("告警历史")])],1)],1)],1)],1),t._l(t.arr,function(i,a){return"gr"==t.usertype?[i.group?e("v-uni-view",{key:a+"_0",staticClass:"title uni-text-gray fl-row"},[e("v-uni-view",{staticClass:"ml10 mt10 mb10 i-cube"}),e("v-uni-text",{staticClass:"ml30"},[t._v(t._s(i.group))])],1):t._e()]:t._e()}),t.markersReady?e("hchPosition",{class:"dw"==t.usertype?"fullscreen":"",attrs:{storeData:t.storeData,markers:t.markers,usertype:t.usertype},on:{mapclick:function(i){arguments[0]=i=t.$handleEvent(i),t.pulldata.apply(void 0,arguments)}}}):t._e(),e("min-action-sheet",{ref:"as"}),e("min-action-sheet",{ref:"as1"})],2)},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return a})},a27d:function(t,i,e){"use strict";var a=e("cb83"),n=e.n(a);n.a},ade4:function(t,i,e){"use strict";var a=e("b35a"),n=e.n(a);n.a},b35a:function(t,i,e){var a=e("1f5b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("1fc63602",a,!0,{sourceMap:!1,shadowMode:!1})},b9a9:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={name:"min-action-sheet",data:function(){return{show:!1,asID:"as",showCancel:!0,cancelText:"取消",maskClose:!0,actions:[],success:function(){},isClick:!0}},methods:{handleShow:function(t){var i=t.showCancel,e=void 0===i||i,a=t.cancelText,n=void 0===a?"取消":a,o=t.maskClose,r=void 0===o||o,c=t.actions,s=void 0===c?[]:c,d=t.asID,l=void 0===d?"as":d,u=t.success,f=void 0===u?function(){}:u;this.show=!0,this.asID=l,this.showCancel=e,this.cancelText=n,this.maskClose=r,this.actions=s,this.success=f},handleHide:function(){this.show=!1,this.asID="as",this.showCancel=!0,this.cancelText="取消",this.maskClose=!0,this.actions=[],this.success=function(){},this.isClick=!0},handleMaskClick:function(){this.isClick&&this.maskClose&&this.handleHide()},handleClick:function(t){if(this.isClick){if(this.actions[t]&&0===this.actions[t].loading)return this.actions[t].loading=1,this.success({asID:this.asID,id:t,handleHide:this.handleHide,devName:this.actions[t].name}),void(this.isClick=!1);this.success({asID:this.asID,id:t,devName:this.actions[t].name}),this.handleHide()}}}};i.default=a},c0e4:function(t,i,e){"use strict";var a=e("8b40"),n=e.n(a);n.a},c185:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.content[data-v-571cd40b]{text-align:center;height:%?400?%;background-color:#07bb07}.page-section[data-v-571cd40b]{z-index:0}.store-tips[data-v-571cd40b]{width:%?600?%;height:%?100?%;margin:%?10?% auto;border-radius:%?10?%;position:absolute;top:%?10?%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);z-index:2;overflow:hidden;background:#07bb07}.store-tips .store-des-box[data-v-571cd40b]{background:#07bb07}.store-tips .store-img[data-v-571cd40b]{width:%?80?%;height:%?80?%;border-radious:%?10?%;margin:%?10?%;float:left}.store-tips .store-des[data-v-571cd40b]{padding-top:%?8?%;float:left;line-height:1;font-size:%?22?%;color:#666;padding-left:%?20?%}.store-tips .store-des .store-name[data-v-571cd40b]{font-weight:600;color:#ff1493}.store-tips .store-clear[data-v-571cd40b]{width:%?30?%;height:%?30?%;position:absolute;top:%?7?%;right:%?7?%;maigin:%?30?%}.address-icon[data-v-571cd40b]{width:%?38?%;height:%?40?%;position:absolute;top:22%;left:50%;z-index:2;margin-bottom:%?-20?%;margin-left:%?-20?%}.near-num[data-v-571cd40b]{padding:%?10?% %?20?%;border-radius:%?10?%;position:absolute;top:17%;left:50%;z-index:2;font-size:%?24?%;background:#fff;-webkit-transform:translate(-50%);transform:translate(-50%)}.fullscreen[data-v-571cd40b]{height:calc(100vh - 50px)!important}.infowindow uni-image[data-v-571cd40b]{width:12px;height:12px}.infowindow .time[data-v-571cd40b]{padding-left:12px}',""])},cb83:function(t,i,e){var a=e("f9d8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("03fd0046",a,!0,{sourceMap:!1,shadowMode:!1})},d0b9:function(t,i,e){"use strict";e.r(i);var a=e("b9a9"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},d8e9:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("bf9f"),n={props:{storeData:{type:Array},markers:{type:Array},usertype:{type:String}},data:function(){return{show:!1,info:{},markerIcon:"",center:{lng:109.45744048529967,lat:36.49771311230842},zoom:15,store:{},storeFlag:!1,storeAdFlag:!0,distanceL:0,latitude:"",longitude:"",scale:"18",controls:[{position:{},iconPath:"http://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"}]}},onShow:function(){},methods:{storeDesEvn:function(){uni.showToast({title:"自己自定义跳门店详情页介绍",duration:2e3,icon:"none"})},callouttap:function(t){this.storeFlag=!0,this.storeAdFlag=!1;for(var i=0;i<this.storeData.length;i++){var e=this.storeData[i];if(e.id==t.markerId){this.store=e;break}}},departures:function(t){switch(t){case"烟感":return{introduce:"烟感报警器",icon:"/static/img/MiniSmokeTrans.png"};case"可燃气体":return{introduce:"可燃气体监测仪",icon:"/static/img/MiniGgasMonitor.png"}}},bindtap:function(t){console.log(t),this.storeFlag=!1},hideAd:function(){this.storeAdFlag=!1},updated:function(){var t=this;wx.getLocation({type:"gcj02",success:function(i){console.log(i),t.latitude=i.latitude,t.longitude=i.longitude,t.nearDistance(t.markers,t.latitude,t.longitude)},fail:function(t){}})},regionchange:function(t){var i=this,e=wx.createMapContext("myMap",this);e.getCenterLocation({success:function(t){i.centerLatitude=t.latitude,i.centerLongitude=t.longitude,i.nearDistance(i.markers,i.centerLatitude,i.centerLongitude)},fail:function(t){}})},distance:function(t,i,e,a){var n=t*Math.PI/180,o=e*Math.PI/180,r=n-o,c=i*Math.PI/180-a*Math.PI/180,s=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(n)*Math.cos(o)*Math.pow(Math.sin(c/2),2)));return s*=6378.137,s=Math.round(1e4*s)/1e4,s},nearDistance:function(t,i,e){for(var a=[],n=0,o=t.length;n<o;n++){var r=t[n],c=this.distance(r.latitude,r.longitude,i,e);a.push(c)}this.distanceL=Math.min.apply(null,a)},showlist:function(t,i){console.log(t)},initPosition:function(){this.scale=15},handler:function(t){t.BMap,t.map},getClickInfo:function(t){this.center.lng=t.point.lng,this.center.lat=t.point.lat},markertap:function(t){console.log(t)},clusterclick:function(t){this.$emit("mapclick",t)},clusterclick2:function(t){this.info=t,this.show=!0,console.log(this.info.longitude,this.info.latitude)},infoWindowOpen:function(){this.show=!0},infoWindowClose:function(){this.show=!1}},created:function(){this.usertype=uni.getStorageSync("usertype"),this.initPosition(),console.log(this.markers)},onReady:function(){},components:{BmlMarkerClusterer:a.BmlMarkerClusterer}};i.default=n},e195:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("f499"));e("c5f6");var o=a(e("9264")),r=(a(e("039f")),a(e("610a")),{components:{faIcon:o.default},name:"zy-grid",props:{col:{type:Number,value:3},showTip:{type:Boolean,value:!0},list:{type:Array,value:""}},data:function(){return{deviceTypeList:[]}},created:function(){var t=this;t.gridList=t.list},methods:{gridClick:function(t,i){uni.navigateTo({url:"/pages/adddevice/devicedetail?item="+(0,n.default)(t)})},repair:function(t){uni.navigateTo({url:"/pages/repair/repairEdit?item="+(0,n.default)(t)})}},watch:{list:function(t,i){this.gridList=this.list,this.$forceUpdate()}}});i.default=r},f9d8:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'.min-action-flex[data-v-b1bdde5c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.min-action-line[data-v-b1bdde5c]:after{content:"";position:absolute;top:0;left:0;width:200%;height:200%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;box-sizing:border-box;border-bottom:1px solid #e9eaec}.min-action-loading[data-v-b1bdde5c]{background:transparent;border-radius:50%;border:2px solid #e5e5e5;border-left-color:#aaa;-webkit-animation:loading-data-v-b1bdde5c 1s linear infinite;animation:loading-data-v-b1bdde5c 1s linear infinite}.min-action[data-v-b1bdde5c],.min-action-mask[data-v-b1bdde5c]{position:fixed;left:0;right:0;top:0;bottom:0}.min-action[data-v-b1bdde5c]{z-index:1000;visibility:hidden}.min-action-show[data-v-b1bdde5c]{visibility:visible}.min-action-mask[data-v-b1bdde5c]{background:rgba(0,0,0,.5)}.min-action-main[data-v-b1bdde5c]{position:absolute;width:100%;left:0;right:0;bottom:0;background:#fff;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transform-origin:center;transform-origin:center;visibility:hidden;-webkit-transition:all .3s;transition:all .3s}.min-action-main-show[data-v-b1bdde5c]{-webkit-transform:translateZ(0);transform:translateZ(0);visibility:visible}.min-action-header[data-v-b1bdde5c]{background:#fff;text-align:center;position:relative;font-size:%?28?%;color:#1c2438}.min-action-icon[data-v-b1bdde5c]{margin-right:%?16?%;width:%?40?%;height:%?40?%}.min-action-cancel[data-v-b1bdde5c]{padding-top:%?12?%;background:#f7f7f7}.min-action-btn[data-v-b1bdde5c]{position:relative;height:%?96?%;font-size:%?28?%;background:#fff;color:#1c2438}@-webkit-keyframes loading-data-v-b1bdde5c{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-data-v-b1bdde5c{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""])}}]);