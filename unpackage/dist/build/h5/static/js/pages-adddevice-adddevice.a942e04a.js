(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-adddevice-adddevice"],{"1a5c":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-7a05ab34]{background:#dcdcdc;padding-bottom:%?100?%}.yt-list[data-v-7a05ab34]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-7a05ab34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-7a05ab34]{background:#fafafa}.yt-list-cell.b-b[data-v-7a05ab34]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-7a05ab34]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-7a05ab34]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-7a05ab34]{background:#3ab54a}.yt-list-cell .cell-tit[data-v-7a05ab34]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#696969;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-7a05ab34]{font-size:%?26?%;color:#f85e52}.yt-list-cell .cell-tip.disabled[data-v-7a05ab34]{color:#f85e52}.yt-list-cell .cell-tip.active[data-v-7a05ab34]{color:#f85e52}.yt-list-cell .cell-tip.red[data-v-7a05ab34]{color:#f85e52}.yt-list-cell.desc-cell .cell-tit[data-v-7a05ab34]{max-width:%?160?%}.yt-list-cell .desc[data-v-7a05ab34]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#a9a9a9}.yt-list-cell uni-switch[data-v-7a05ab34]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}.add-btn[data-v-7a05ab34]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?16?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-7a05ab34]{background:#dcdcdc}',""])},"4e0d":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.handleSignClick=o,e.setSignInfo=l,e.addSignInfo=c,e.getSignInfo=s,e.delSignInfo=d,e.getInfo=r,e.key=void 0;var n=a(i("f499"));function o(){console.log(1)}function l(t){var e={main:[t]};uni.setStorageSync("signInfo",(0,n.default)(e))}function c(t,e){e.main.push(t),uni.setStorageSync("signInfo",(0,n.default)(e))}function s(){var t=uni.getStorageSync("signInfo");if(t)return JSON.parse(t)}function d(){uni.removeStorage({key:"signInfo",success:function(){uni.showToast({title:"重置成功"})}})}function r(t){var e=new Date,i={mode:t.mode,nowT:e,address:t.address,time:t.time,latitude:t.latitude,longitude:t.longitude,remarks:t.remarks};return i}var u="VEEBZ-HJL34-U3LUY-XUBOX-NSUF7-E4BRF";e.key=u},"79f4":function(t,e,i){"use strict";i.r(e);var a=i("7b63"),n=i("c2ed");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("d0c4");var l,c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"7a05ab34",null,!1,a["a"],l);e["default"]=s.exports},"7b63":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备IMEI号：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"设备IMEI号(必填)","placeholder-class":"placeholder"},model:{value:t.form.imei,callback:function(e){t.$set(t.form,"imei",e)},expression:"form.imei"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备名称：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0,placeholder:"设备名称(必填)","placeholder-class":"placeholder"},model:{value:t.form.devName,callback:function(e){t.$set(t.form,"devName",e)},expression:"form.devName"}})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备地址：")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"点击选择位置: ","placeholder-class":"placeholder"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openLocation.apply(void 0,arguments)}},model:{value:t.form.devLocation,callback:function(e){t.$set(t.form,"devLocation",e)},expression:"form.devLocation"}})],1)],1),i("v-uni-button",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("保存设备")])],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"819a":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("3b8d"));if(!o)var o={};function l(){return c.apply(this,arguments)}function c(){return c=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"请等待",mask:!0});case 1:case"end":return t.stop()}},t,this)})),c.apply(this,arguments)}function s(){return d.apply(this,arguments)}function d(){return d=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 1:case"end":return t.stop()}},t,this)})),d.apply(this,arguments)}function r(t){return u.apply(this,arguments)}function u(){return u=(0,n.default)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showToast({title:e||e.msg,mask:!0,icon:0==e.status?"success":"",duration:1500});case 1:case"end":return t.stop()}},t,this)})),u.apply(this,arguments)}o.PATH="http://47.103.152.26/api";var f={showLoading:l,hideLoading:s,showToast:r};e.default=f},9035:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("4e0d");var n=a(i("290a")),o=a(i("819a")),l={components:{},data:function(){return{result:"",address:"选择位置",form:{openId:uni.getStorageSync("openid"),imei:"",devName:"",devLocation:"",baiduLatitude:"",baiduLongitude:""}}},onLoad:function(t){this.form.devName=t.type},onShow:function(){},methods:{submit:function(){o.default.showLoading(),n.default.apiPost("/toc/device/save",this.form).then(function(t){if("0"==t.code){o.default.showToast("添加成功");var e=getCurrentPages(),i=(e[e.length-1],e[e.length-2]);i.refresh=!0,setTimeout(function(){uni.navigateBack()},1e3),o.default.hideLoading()}else o.default.hideLoading(),o.default.showToast(t.msg)}).catch(function(t){o.default.hideLoading(),o.default.showToast(t)})},getLocation:function(){var t=this;0!==this.clickNum&&uni.showLoading({title:"获取中...",mask:!0}),this.clickNum>=3?uni.showToast({title:"请稍后尝试！",icon:"none",mask:!0}):(this.clickNum++,uni.getLocation({type:"gcj02",success:function(e){uni.hideLoading(),t.latitude=e.latitude,t.longitude=e.longitude,t.covers[1]={id:1,latitude:e.latitude,longitude:e.longitude,iconPath:"../../static/location.png"};var i=pointInsideCircle([t.latitude,t.longitude],[t.circles[0].latitude,t.circles[0].longitude],t.r/1e5);t.is=i,t.signInfo.latitude=e.latitude,t.signInfo.longitude=e.longitude,t.signInfo.mode=i?"正常打卡":"外勤打卡",t.getAdd()},fail:function(e){uni.hideLoading(),t.address="请检查位置信息！",uni.showToast({title:"请检查位置信息状态！",icon:"none",mask:!0,duration:3e3})}}))},openLocation:function(){uni.navigateTo({url:"../chooseLocation/chooseLocation"})},handler:function(t){var e=t.BMap,i=(t.map,this),a=new e.Geolocation;a.getCurrentPosition(function(t){this.getStatus()==BMAP_STATUS_SUCCESS?(i.form.baiduLatitude=t.latitude,i.form.baiduLongitude=t.longitude):o.default.showToast("获取当前位置失败")},{enableHighAccuracy:!0})},getClickInfo:function(t){console.log(t.point.lng),console.log(t.point.lat),this.center.lng=t.point.lng,this.center.lat=t.point.lat}}};e.default=l},"95f2":function(t,e,i){var a=i("1a5c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3fb00a83",a,!0,{sourceMap:!1,shadowMode:!1})},c2ed:function(t,e,i){"use strict";i.r(e);var a=i("9035"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},d0c4:function(t,e,i){"use strict";var a=i("95f2"),n=i.n(a);n.a}}]);