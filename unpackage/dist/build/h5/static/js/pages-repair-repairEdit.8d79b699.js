(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-repair-repairEdit"],{"0751":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1c1f")),r=(a("8bc4"),i(a("290a"))),s=i(a("819a")),c={components:{dyDatePicker:n.default},data:function(){return{from_minSelect:"1900/01/01",from_maxSelect:"2050/12/31",to_minSelect:"1900/01/01",to_maxSelect:"2050/12/31",from:"",to:"",index:0,address:"选择位置",form:{devId:"",baiduLongitude:"",baiduLatitude:"",contact:"",phone:"",address:"",imei:"",remark:"",buyTime:"",buyCompany:""}}},onLoad:function(t){var e=JSON.parse(t.item);console.log(e),this.index=t.index,this.form.devId=e.devId,this.form.address=e.devLocation,this.form.imei=e.imei,this.form.baiduLongitude=e.baiduLongitude,this.form.baiduLatitude=e.baiduLatitude,this.form.buyCom=e.buyCom,this.form.buyDate=e.buyDate},methods:{submit:function(){var t=this;this.form.buyTime=this.$refs.datePicker.date,s.default.showLoading(),r.default.apiPost("/toc/deviceRepair/repair",this.form).then(function(e){"0"==e.code?(s.default.showToast("提交报修成功"),uni.$emit("update",t.index),setTimeout(function(){uni.navigateBack()},1e3),s.default.hideLoading()):(s.default.hideLoading(),s.default.showToast(e.msg))}).catch(function(t){s.default.hideLoading(),s.default.showToast(t)})},getFromData:function(t){this.to_minSelect=t,this.from=t},openLocation:function(){var t=this;uni.chooseLocation({success:function(e){t.form.address=e.address}})},check:function(){if(""!=this.form.contact){var t=/^1[3456789]\d{9}$/;return t.test(this.form.phone)?""!=this.form.address?""!=this.form.remark?{msg:"",pass:!0}:{msg:"请填写故障描述",pass:!1}:{msg:"请填写设备所在地址",pass:!1}:{msg:"请填写正确联系方式",pass:!1}}return{msg:"请填写联系人",pass:!1}}}};e.default=c},"14f1":function(t,e,a){"use strict";a.r(e);var i=a("0751"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},1656:function(t,e,a){"use strict";a.r(e);var i=a("f3f3"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},"1c1f":function(t,e,a){"use strict";a.r(e);var i=a("61c2"),n=a("1656");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("ab4f");var s,c=a("f0c5"),l=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"7a053966",null,!1,i["a"],s);e["default"]=l.exports},"37ec":function(t,e,a){"use strict";var i=a("8135"),n=a.n(i);n.a},"3ffd":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-75ed54f0]{padding-bottom:%?100?%}.yt-list[data-v-75ed54f0]{border-bottom:1px solid #dcdcdc;background:#fff}.yt-list-cell[data-v-75ed54f0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-75ed54f0]{background:#fafafa}.yt-list-cell.b-b[data-v-75ed54f0]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-75ed54f0]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-75ed54f0]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-75ed54f0]{background:#3ab54a}.yt-list-cell .cell-tit[data-v-75ed54f0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#696969;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-75ed54f0]{font-size:%?26?%;color:#f85e52}.yt-list-cell .cell-tip.disabled[data-v-75ed54f0]{color:#f85e52}.yt-list-cell .cell-tip.active[data-v-75ed54f0]{color:#f85e52}.yt-list-cell .cell-tip.red[data-v-75ed54f0]{color:#f85e52}.yt-list-cell.desc-cell .cell-tit[data-v-75ed54f0]{max-width:%?160?%}.yt-list-cell .desc[data-v-75ed54f0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#a9a9a9}.yt-list-cell uni-switch[data-v-75ed54f0]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}.add-btn[data-v-75ed54f0]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?16?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}',""])},"52b9":function(t,e,a){"use strict";a.r(e);var i=a("9536"),n=a("14f1");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("37ec");var s,c=a("f0c5"),l=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"75ed54f0",null,!1,i["a"],s);e["default"]=l.exports},"5ac6":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".tx_r[data-v-7a053966]{line-height:48px;font-size:15px;font-weight:400;color:#848b9a}.placeholder[data-v-7a053966]{color:#b5b8c2;font-size:%?30?%}.fa-angle-right[data-v-7a053966]{font-size:%?36?%;padding-left:%?12?%}",""])},"61c2":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-picker",{attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.date))])],1)],1)},r=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return i})},8135:function(t,e,a){var i=a("3ffd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("686d3a80",i,!0,{sourceMap:!1,shadowMode:!1})},"819a":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=i(a("3b8d"));if(!r)var r={};function s(){return c.apply(this,arguments)}function c(){return c=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"请等待",mask:!0});case 1:case"end":return t.stop()}},t,this)})),c.apply(this,arguments)}function l(){return o.apply(this,arguments)}function o(){return o=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 1:case"end":return t.stop()}},t,this)})),o.apply(this,arguments)}function d(t){return u.apply(this,arguments)}function u(){return u=(0,n.default)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showToast({title:e||e.msg,mask:!0,icon:0==e.status?"success":"",duration:1500});case 1:case"end":return t.stop()}},t,this)})),u.apply(this,arguments)}r.PATH="http://47.103.152.26/api";var f={showLoading:s,hideLoading:l,showToast:d};e.default=f},"8bc4":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.handleSignClick=r,e.setSignInfo=s,e.addSignInfo=c,e.getSignInfo=l,e.delSignInfo=o,e.getInfo=d,e.key=void 0;var n=i(a("f499"));function r(){console.log(1)}function s(t){var e={main:[t]};uni.setStorageSync("signInfo",(0,n.default)(e))}function c(t,e){e.main.push(t),uni.setStorageSync("signInfo",(0,n.default)(e))}function l(){var t=uni.getStorageSync("signInfo");if(t)return JSON.parse(t)}function o(){uni.removeStorage({key:"signInfo",success:function(){uni.showToast({title:"重置成功"})}})}function d(t){var e=new Date,a={mode:t.mode,nowT:e,address:t.address,time:t.time,latitude:t.latitude,longitude:t.longitude,remarks:t.remarks};return a}var u="VEEBZ-HJL34-U3LUY-XUBOX-NSUF7-E4BRF";e.key=u},9536:function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("联系人：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"联系人","placeholder-class":"placeholder"},model:{value:t.form.contact,callback:function(e){t.$set(t.form,"contact",e)},expression:"form.contact"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("联系电话：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"联系电话","placeholder-class":"placeholder"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备所在地址：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"选择设备所在地址: ","placeholder-class":"placeholder",disabled:!0},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("设备IMEI号：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",disabled:!0,placeholder:"设备IMEI号","placeholder-class":"placeholder"},model:{value:t.form.imei,callback:function(e){t.$set(t.form,"imei",e)},expression:"form.imei"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("故障描述：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"故障描述","placeholder-class":"placeholder"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("购买日期：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("dyDatePicker",{ref:"datePicker",attrs:{placeholder:"购买日期"},model:{value:t.form.buyDate,callback:function(e){t.$set(t.form,"buyDate",e)},expression:"form.buyDate"}})],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("购买商家：")])],1),a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"购买商家","placeholder-class":"placeholder"},model:{value:t.form.buyCom,callback:function(e){t.$set(t.form,"buyCom",e)},expression:"form.buyCom"}})],1)],1),a("v-uni-button",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("报修提交")])],1)},r=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return i})},ab4f:function(t,e,a){"use strict";var i=a("be32"),n=a.n(i);n.a},be32:function(t,e,a){var i=a("5ac6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6ac8513c",i,!0,{sourceMap:!1,shadowMode:!1})},f3f3:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("bd86"));a("20d6"),a("6762");var r=i(a("e814"));a("28a5");var s={name:"dy-Date-Picker",props:{timeType:{type:String,default:function(){return"day"}},disabled:{type:Boolean,default:function(){return!1}},iconshow:{type:Boolean,default:function(){return!0}},placeholder:{type:String,default:function(){return"请选择"}},childValue:{default:function(){return""}},minSelect:{type:String,default:function(){return"1900/01/01"}},maxSelect:{type:String,default:function(){return"2050/12/31"}}},data:function(){return{date:"请选择购买日期",index:[0],array:[],yearArr:[],monthArr:[],yearIndex:0,showTime:this.moment(this.childValue)}},methods:(0,n.default)({moment:function(t){var e=this.timeType;if(t){var a=new Date(t),i=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0".concat(n):n;var r=a.getDate();r=r<10?"0".concat(r):r;var s=a.getHours();s=s<10?"0".concat(s):s;var c=a.getMinutes();c=c<10?"0".concat(c):c;var l=a.getSeconds();l=l<10?"0".concat(l):l;var o="".concat(i,"/").concat(n,"/").concat(r," ").concat(s,":").concat(c,":").concat(l);return"year"===e&&(o="".concat(i)),"month"===e&&(o="".concat(i,"-").concat(n)),"day"===e&&(o="".concat(i,"-").concat(n,"-").concat(r)),o}},bindDateChange:function(t){this.childValue=t.target.value},dateInit:function(){this.array=[],this.yearArr=[],this.monthArr=[];var t=this.moment(this.minSelect)||[],e=this.moment(this.maxSelect)||[];t=t?t.split(" "):"",e=e?e.split(" "):"",t=t[0]?t[0].split("-"):1900,e=e[0]?e[0].split("-"):2050;var a=this.timeType,i="",n=i.monthStar,s=i.monthEnd,c=t[0]?(0,r.default)(t[0]):1900,l=e[0]?(0,r.default)(e[0]):2050;if("day"===a)t[2]&&(0,r.default)(t[2]),e[2]&&(0,r.default)(e[2]);"month"!==a&&"day"!==a||(n=t[1]?(0,r.default)(t[1]):1,s=e[1]?(0,r.default)(e[1]):12);for(var o=c;o<=l;o++){var d=o<10?"0".concat(o):o;if(this.yearArr.push("".concat(d,"年")),"month"===a||"day"===a){var u=this.getMonthArr(o,c,l,n,s,a);u.length&&this.monthArr.push(u)}}this.array[0]=this.yearArr,"month"!==a&&"day"!==a||(this.array[1]=this.monthArr.length&&this.monthArr[0]),"day"===a&&(this.array[2]=this.getDateArr((0,r.default)(this.yearArr[0]),(0,r.default)(this.monthArr[0])))},getMonthArr:function(t,e,a,i,n,r){var s=[];if(t===e&&t!==a)for(var c=i;c<=12;c++){var l=c<10?"0".concat(c):c;s.push("".concat(l,"月"))}if(t===a&&t!==e)for(var o=1;o<=n;o++){var d=o<10?"0".concat(o):o;s.push("".concat(d,"月"))}if(t!==e&&t!==a)for(var u=1;u<=12;u++){var f=u<10?"0".concat(u):u;s.push("".concat(f,"月"))}if(t===e&&t===a)for(var h=i;h<=n;h++){var v=h<10?"0".concat(h):h;s.push("".concat(v,"月"))}return s},getDateArr:function(t,e){var a=this.moment(this.minSelect)||[],i=this.moment(this.maxSelect)||[];a=a.length&&a.split("-"),i=i.length&&i.split("-");var n=a[0]?(0,r.default)(a[0]):1900,s=i[0]?(0,r.default)(i[0]):2050,c=a[1]?(0,r.default)(a[1]):1,l=i[1]?(0,r.default)(i[1]):12,o=[],d=30,u=[1,3,5,7,8,10,12];u.includes(e)&&(d=31),2===e&&(d=t%400==0||t%4==0&&t%100!=0?29:28);var f=a[2]?(0,r.default)(a[2]):1,h=i[2]?(0,r.default)(i[2]):d;if(t!==s&&t!==n||t===n&&e!==c&&e!==l||t===s&&e!==l&&e!==c||n===s&&e!==c&&e!==l||n!==s&&t===s&&e!==l||t===n&&e!==c&&t<s)for(var v=1;v<=d;v++){var m=v<10?"0".concat(v):v;o.push("".concat(m,"日"))}if(n===s&&t===n&&e===c&&e!==l||n!==s&&t===n&&e===c)for(var p=f;p<=d;p++){var y=p<10?"0".concat(p):p;o.push("".concat(y,"日"))}if(t===s&&e===l&&e!==c&&n===s||t===s&&n!==s&&e===l)for(var g=1;g<=h;g++){var b=g<10?"0".concat(g):g;o.push("".concat(b,"日"))}if(t===n&&n===s&&e===c&&c===l)for(var x=f;x<=h;x++){var w=x<10?"0".concat(x):x;o.push("".concat(w,"日"))}return o},bindTimeChange:function(t){var e="",a=t.detail.value,i=this.timeType,n=(0,r.default)(this.array[0][(0,r.default)(a[0])||0]),s="";if(e=n+"","month"===i||"day"===i){var c=(0,r.default)(a[1])||0;c=c<0?0:c,s=(0,r.default)(this.array[1][c]),s=s<10?"0".concat(s):s,e="".concat(e,"-").concat(s)}if("day"===i){var l=(0,r.default)(a[2])||0;l=l<0?0:l;var o=(0,r.default)(this.array[2][l]);o=o<10?"0".concat(o):o,e="".concat(e,"-").concat(o)}this.showTime=e,this.$emit("getData",e)},columnchange:function(t){var e=t.detail.value,a=t.detail.column,i=this.timeType;if(this.$set(this.index,a,e),0===a&&(this.yearIndex=e,"month"!==i&&"day"!==i||this.$set(this.array,1,this.monthArr[e]),"day"===i)){var n=this.index[1]||0,s=this.getDateArr((0,r.default)(this.yearArr[e]),(0,r.default)(this.monthArr[this.yearIndex][n]));this.$set(this.array,2,s)}if(1===a&&"day"===i){var c=this.getDateArr((0,r.default)(this.yearArr[this.yearIndex]),(0,r.default)(this.monthArr[this.yearIndex][e]));this.$set(this.array,2,c)}},valueEchoed:function(t){if(this.index=[0],this.childValue||t){var e=this.childValue||t;e=this.moment(e),e=e.split("-");var a=this.array[0].findIndex(function(t){return(0,r.default)(t)===(0,r.default)(e[0])})||0;a=-1===a?0:a,this.index[0]=a,this.yearIndex=a;var i=this.timeType;if("month"===i||"day"===i){this.array[1]=this.monthArr.length&&this.monthArr[a];var n=this.array[1]&&this.array[1].length&&this.array[1].findIndex(function(t){return(0,r.default)(t)===(0,r.default)(e[1])})||0;this.index[1]=n}if("day"===i){var s=this.index[0]||0,c=this.index[1]||0;s=-1===s?0:s,c=-1===c?0:c;var l=this.getDateArr((0,r.default)(this.yearArr[s]),(0,r.default)(this.monthArr[s][c]));this.getDateIndex(l)}}},getDateIndex:function(t){var e=this.moment((new Date).getTime()),a=this.childValue||e;a=this.moment(a),a=a.split("-"),this.array[2]=t;var i=this.array[2].findIndex(function(t){return(0,r.default)(t)===(0,r.default)(a[2])})||0;this.index[2]=i},getDate:function(t){var e=new Date,a=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();return"start"===t?a-=60:"end"===t&&(a+=2),i=i>9?i:"0"+i,n=n>9?n:"0"+n,"".concat(a,"-").concat(i,"-").concat(n)}},"bindDateChange",function(t){this.date=t.target.value}),watch:{},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},created:function(){this.dateInit(),this.valueEchoed(),this.date=this.getDate({format:!0})}};e.default=s}}]);