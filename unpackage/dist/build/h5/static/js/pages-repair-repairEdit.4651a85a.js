(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-repair-repairEdit"],{"09c1":function(t,e,a){var n=a("98bf");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("04028a48",n,!0,{sourceMap:!1,shadowMode:!1})},1984:function(t,e,a){"use strict";a.r(e);var n=a("8704"),i=a("5829");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("9a99");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6b7abc13",null,!1,n["a"],o);e["default"]=c.exports},"42df":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".tx_r[data-v-6b7abc13]{line-height:48px;font-size:15px;font-weight:400;color:#848b9a}.placeholder[data-v-6b7abc13]{color:#b5b8c2;font-size:%?30?%}.fa-angle-right[data-v-6b7abc13]{font-size:%?36?%;padding-left:%?12?%}",""]),t.exports=e},"48f7":function(t,e,a){"use strict";var n=a("09c1"),i=a.n(n);i.a},5829:function(t,e,a){"use strict";a.r(e);var n=a("aa17"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"598e":function(t,e,a){"use strict";function n(){console.log(1)}function i(t){var e={main:[t]};uni.setStorageSync("signInfo",JSON.stringify(e))}function r(t,e){e.main.push(t),uni.setStorageSync("signInfo",JSON.stringify(e))}function o(){var t=uni.getStorageSync("signInfo");if(t)return JSON.parse(t)}function s(){uni.removeStorage({key:"signInfo",success:function(){uni.showToast({title:"重置成功"})}})}function c(t){var e=new Date,a={mode:t.mode,nowT:e,address:t.address,time:t.time,latitude:t.latitude,longitude:t.longitude,remarks:t.remarks};return a}Object.defineProperty(e,"__esModule",{value:!0}),e.handleSignClick=n,e.setSignInfo=i,e.addSignInfo=r,e.getSignInfo=o,e.delSignInfo=s,e.getInfo=c,e.key=void 0;var d="VEEBZ-HJL34-U3LUY-XUBOX-NSUF7-E4BRF";e.key=d},8704:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-picker",{attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.date))])],1)],1)},r=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}))},"98bf":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-69f63201]{background:#f2f2f2;padding-bottom:%?100?%}.yt-list[data-v-69f63201]{border-bottom:1px solid #dcdcdc;background:#fff}.yt-list-cell[data-v-69f63201]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-69f63201]{background:#fafafa}.yt-list-cell.b-b[data-v-69f63201]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-69f63201]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-69f63201]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-69f63201]{background:#3ab54a}.yt-list-cell .cell-tit[data-v-69f63201]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#696969;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-69f63201]{font-size:%?26?%;color:#f85e52}.yt-list-cell .cell-tip.disabled[data-v-69f63201]{color:#f85e52}.yt-list-cell .cell-tip.active[data-v-69f63201]{color:#f85e52}.yt-list-cell .cell-tip.red[data-v-69f63201]{color:#f85e52}.yt-list-cell.desc-cell .cell-tit[data-v-69f63201]{max-width:%?160?%}.yt-list-cell .desc[data-v-69f63201]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#a9a9a9}.yt-list-cell uni-switch[data-v-69f63201]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}.add-btn[data-v-69f63201]{background:#3f87ff!important;border-radius:34px!important;font-size:%?34?%;margin-top:%?40?%;color:#fff;width:80%}.card[data-v-69f63201]{padding:%?20?% %?20?% 0;background-color:#fff;margin:%?30?%;border-radius:8px}.card .line[data-v-69f63201]{padding:%?20?% 0}.card .border-line[data-v-69f63201]{border-bottom:1px solid #f2f2f2}.line > uni-text[data-v-69f63201]{display:inline-block;vertical-align:middle;width:30%;text-align:right}.line > uni-input[data-v-69f63201],\n.line > .input[data-v-69f63201]{display:inline-block;vertical-align:middle;width:64%;font-size:%?28?%;margin-left:5%}.uni-input-placeholder[data-v-69f63201],\nuni-textarea[data-v-69f63201]{font-size:%?28?%}body.?%PAGE?%[data-v-69f63201]{background:#f2f2f2}',""]),t.exports=e},"9a99":function(t,e,a){"use strict";var n=a("d3c9"),i=a.n(n);i.a},aa17:function(t,e,a){"use strict";var n=a("ee27");a("99af"),a("c740"),a("caad"),a("e25e"),a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("fc11")),r={name:"dy-Date-Picker",props:{timeType:{type:String,default:function(){return"day"}},disabled:{type:Boolean,default:function(){return!1}},iconshow:{type:Boolean,default:function(){return!0}},placeholder:{type:String,default:function(){return"请选择"}},childValue:{default:function(){return""}},minSelect:{type:String,default:function(){return"1900/01/01"}},maxSelect:{type:String,default:function(){return"2050/12/31"}}},data:function(){return{date:"请选择购买日期",index:[0],array:[],yearArr:[],monthArr:[],yearIndex:0,showTime:this.moment(this.childValue)}},methods:(0,i.default)({moment:function(t){var e=this.timeType;if(t){var a=new Date(t),n=a.getFullYear(),i=a.getMonth()+1;i=i<10?"0".concat(i):i;var r=a.getDate();r=r<10?"0".concat(r):r;var o=a.getHours();o=o<10?"0".concat(o):o;var s=a.getMinutes();s=s<10?"0".concat(s):s;var c=a.getSeconds();c=c<10?"0".concat(c):c;var d="".concat(n,"/").concat(i,"/").concat(r," ").concat(o,":").concat(s,":").concat(c);return"year"===e&&(d="".concat(n)),"month"===e&&(d="".concat(n,"-").concat(i)),"day"===e&&(d="".concat(n,"-").concat(i,"-").concat(r)),d}},bindDateChange:function(t){this.childValue=t.target.value},dateInit:function(){this.array=[],this.yearArr=[],this.monthArr=[];var t=this.moment(this.minSelect)||[],e=this.moment(this.maxSelect)||[];t=t?t.split(" "):"",e=e?e.split(" "):"",t=t[0]?t[0].split("-"):1900,e=e[0]?e[0].split("-"):2050;var a=this.timeType,n="",i=n.monthStar,r=n.monthEnd,o=t[0]?parseInt(t[0]):1900,s=e[0]?parseInt(e[0]):2050;if("day"===a)t[2]&&parseInt(t[2]),e[2]&&parseInt(e[2]);"month"!==a&&"day"!==a||(i=t[1]?parseInt(t[1]):1,r=e[1]?parseInt(e[1]):12);for(var c=o;c<=s;c++){var d=c<10?"0".concat(c):c;if(this.yearArr.push("".concat(d,"年")),"month"===a||"day"===a){var l=this.getMonthArr(c,o,s,i,r,a);l.length&&this.monthArr.push(l)}}this.array[0]=this.yearArr,"month"!==a&&"day"!==a||(this.array[1]=this.monthArr.length&&this.monthArr[0]),"day"===a&&(this.array[2]=this.getDateArr(parseInt(this.yearArr[0]),parseInt(this.monthArr[0])))},getMonthArr:function(t,e,a,n,i,r){var o=[];if(t===e&&t!==a)for(var s=n;s<=12;s++){var c=s<10?"0".concat(s):s;o.push("".concat(c,"月"))}if(t===a&&t!==e)for(var d=1;d<=i;d++){var l=d<10?"0".concat(d):d;o.push("".concat(l,"月"))}if(t!==e&&t!==a)for(var u=1;u<=12;u++){var f=u<10?"0".concat(u):u;o.push("".concat(f,"月"))}if(t===e&&t===a)for(var h=n;h<=i;h++){var v=h<10?"0".concat(h):h;o.push("".concat(v,"月"))}return o},getDateArr:function(t,e){var a=this.moment(this.minSelect)||[],n=this.moment(this.maxSelect)||[];a=a.length&&a.split("-"),n=n.length&&n.split("-");var i=a[0]?parseInt(a[0]):1900,r=n[0]?parseInt(n[0]):2050,o=a[1]?parseInt(a[1]):1,s=n[1]?parseInt(n[1]):12,c=[],d=30,l=[1,3,5,7,8,10,12];l.includes(e)&&(d=31),2===e&&(d=t%400==0||t%4==0&&t%100!=0?29:28);var u=a[2]?parseInt(a[2]):1,f=n[2]?parseInt(n[2]):d;if(t!==r&&t!==i||t===i&&e!==o&&e!==s||t===r&&e!==s&&e!==o||i===r&&e!==o&&e!==s||i!==r&&t===r&&e!==s||t===i&&e!==o&&t<r)for(var h=1;h<=d;h++){var v=h<10?"0".concat(h):h;c.push("".concat(v,"日"))}if(i===r&&t===i&&e===o&&e!==s||i!==r&&t===i&&e===o)for(var p=u;p<=d;p++){var m=p<10?"0".concat(p):p;c.push("".concat(m,"日"))}if(t===r&&e===s&&e!==o&&i===r||t===r&&i!==r&&e===s)for(var g=1;g<=f;g++){var y=g<10?"0".concat(g):g;c.push("".concat(y,"日"))}if(t===i&&i===r&&e===o&&o===s)for(var b=u;b<=f;b++){var x=b<10?"0".concat(b):b;c.push("".concat(x,"日"))}return c},bindTimeChange:function(t){var e="",a=t.detail.value,n=this.timeType,i=parseInt(this.array[0][parseInt(a[0])||0]),r="";if(e=i+"","month"===n||"day"===n){var o=parseInt(a[1])||0;o=o<0?0:o,r=parseInt(this.array[1][o]),r=r<10?"0".concat(r):r,e="".concat(e,"-").concat(r)}if("day"===n){var s=parseInt(a[2])||0;s=s<0?0:s;var c=parseInt(this.array[2][s]);c=c<10?"0".concat(c):c,e="".concat(e,"-").concat(c)}this.showTime=e,this.$emit("getData",e)},columnchange:function(t){var e=t.detail.value,a=t.detail.column,n=this.timeType;if(this.$set(this.index,a,e),0===a&&(this.yearIndex=e,"month"!==n&&"day"!==n||this.$set(this.array,1,this.monthArr[e]),"day"===n)){var i=this.index[1]||0,r=this.getDateArr(parseInt(this.yearArr[e]),parseInt(this.monthArr[this.yearIndex][i]));this.$set(this.array,2,r)}if(1===a&&"day"===n){var o=this.getDateArr(parseInt(this.yearArr[this.yearIndex]),parseInt(this.monthArr[this.yearIndex][e]));this.$set(this.array,2,o)}},valueEchoed:function(t){if(this.index=[0],this.childValue||t){var e=this.childValue||t;e=this.moment(e),e=e.split("-");var a=this.array[0].findIndex((function(t){return parseInt(t)===parseInt(e[0])}))||0;a=-1===a?0:a,this.index[0]=a,this.yearIndex=a;var n=this.timeType;if("month"===n||"day"===n){this.array[1]=this.monthArr.length&&this.monthArr[a];var i=this.array[1]&&this.array[1].length&&this.array[1].findIndex((function(t){return parseInt(t)===parseInt(e[1])}))||0;this.index[1]=i}if("day"===n){var r=this.index[0]||0,o=this.index[1]||0;r=-1===r?0:r,o=-1===o?0:o;var s=this.getDateArr(parseInt(this.yearArr[r]),parseInt(this.monthArr[r][o]));this.getDateIndex(s)}}},getDateIndex:function(t){var e=this.moment((new Date).getTime()),a=this.childValue||e;a=this.moment(a),a=a.split("-"),this.array[2]=t;var n=this.array[2].findIndex((function(t){return parseInt(t)===parseInt(a[2])}))||0;this.index[2]=n},getDate:function(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return"start"===t?a-=60:"end"===t&&(a+=2),n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(a,"-").concat(n,"-").concat(i)}},"bindDateChange",(function(t){this.date=t.target.value})),watch:{},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},created:function(){this.dateInit(),this.valueEchoed(),this.date=this.getDate({format:!0})}};e.default=r},aa65:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"card"},[a("v-uni-view",{staticClass:"line border-line"},[a("v-uni-text",[a("v-uni-text",{staticClass:"cerror"},[t._v("*")]),t._v("联系人:")],1),a("v-uni-input",{attrs:{type:"text",placeholder:"输入联系人姓名"},model:{value:t.form.contact,callback:function(e){t.$set(t.form,"contact",e)},expression:"form.contact"}})],1),a("v-uni-view",{staticClass:"line border-line"},[a("v-uni-text",[a("v-uni-text",{staticClass:"cerror"},[t._v("*")]),t._v("联系电话:")],1),a("v-uni-input",{attrs:{type:"text",placeholder:"输入电话"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("v-uni-view",{staticClass:"line border-line"},[a("v-uni-text",[a("v-uni-text",{staticClass:"cerror"},[t._v("*")]),t._v("设备所在地:")],1),a("v-uni-input",{attrs:{type:"text",disabled:!0},model:{value:t.devLocation,callback:function(e){t.devLocation=e},expression:"devLocation"}})],1),a("v-uni-view",{staticClass:"line border-line"},[a("v-uni-text",[t._v("设备ID:")]),a("v-uni-input",{attrs:{type:"text",disabled:!0},model:{value:t.form.devId,callback:function(e){t.$set(t.form,"devId",e)},expression:"form.devId"}})],1)],1),a("v-uni-view",{staticClass:"card"},[a("v-uni-textarea",{attrs:{placeholder:"输入故障描述"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),a("v-uni-view",{staticStyle:{"text-align":"center"}},[a("v-uni-button",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("报修提交")])],1)],1)},r=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}))},aabb:function(t,e,a){"use strict";a.r(e);var n=a("dc2e"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ca5b:function(t,e,a){"use strict";var n=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("c964"));if(!r)var r={};function o(){return s.apply(this,arguments)}function s(){return s=(0,i.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"请等待",mask:!0});case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(){return d.apply(this,arguments)}function d(){return d=(0,i.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function l(t){return u.apply(this,arguments)}function u(){return u=(0,i.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showToast({title:e||e.msg,mask:!0,icon:0==e.status?"success":"",duration:1500});case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}r.PATH="http://47.103.152.26/api";var f={showLoading:o,hideLoading:c,showToast:l};e.default=f},d3c9:function(t,e,a){var n=a("42df");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("d6e46576",n,!0,{sourceMap:!1,shadowMode:!1})},dc2e:function(t,e,a){"use strict";var n=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("1984")),r=(a("598e"),n(a("6ebd"))),o=n(a("ca5b")),s={components:{dyDatePicker:i.default},data:function(){return{from_minSelect:"1900/01/01",from_maxSelect:"2050/12/31",to_minSelect:"1900/01/01",to_maxSelect:"2050/12/31",from:"",to:"",index:"",address:"",candidates:[],form:{devId:"",contact:"",phone:"",remark:"",openId:uni.getStorageSync("openid"),brokenId:""}}},onLoad:function(t){var e=JSON.parse(t.sth);this.index=t.index,this.form.devId=e.devId,this.devLocation=e.devLocation,this.form.brokenId=e.id},methods:{submit:function(){var t=this;o.default.showLoading(),r.default.apiPost("/toc/deviceRepair/repair",this.form).then((function(e){"0"==e.code?(o.default.showToast("提交报修成功"),uni.$emit("update",t.index),setTimeout((function(){uni.navigateBack()}),1e3),o.default.hideLoading()):(o.default.hideLoading(),o.default.showToast(e.msg))})).catch((function(t){o.default.hideLoading(),o.default.showToast(t)}))},getFromData:function(t){this.to_minSelect=t,this.from=t},openLocation:function(){var t=this;uni.chooseLocation({success:function(e){t.form.address=e.address}})},check:function(){if(""!=this.form.contact){var t=/^1[3456789]\d{9}$/;return t.test(this.form.phone)?""!=this.form.address?""!=this.form.remark?{msg:"",pass:!0}:{msg:"请填写故障描述",pass:!1}:{msg:"请填写设备所在地址",pass:!1}:{msg:"请填写正确联系方式",pass:!1}}return{msg:"请填写联系人",pass:!1}}}};e.default=s},f13d:function(t,e,a){"use strict";a.r(e);var n=a("aa65"),i=a("aabb");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("48f7");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"69f63201",null,!1,n["a"],o);e["default"]=c.exports}}]);