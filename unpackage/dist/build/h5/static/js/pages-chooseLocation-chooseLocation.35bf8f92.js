(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chooseLocation-chooseLocation"],{"10f3":function(t,o,n){o=t.exports=n("2350")(!1),o.push([t.i,".search-cover[data-v-7cf6b8c8]{position:absolute;top:0;left:0;z-index:999}.search-top[data-v-7cf6b8c8]{position:relative;padding-bottom:%?50?%}.search-top uni-input[data-v-7cf6b8c8]{display:inline-block;height:32px!important}.search-top uni-button[data-v-7cf6b8c8]{height:32px!important;line-height:32px!important;margin-right:15px}\n/* .map .search-list{\n\theight: calc(100vh - 50upx - 32px - 800upx);\n} */",""])},1447:function(t,o,n){"use strict";var e,i=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("v-uni-view",[n("v-uni-view",[n("v-uni-view",{staticStyle:{"padding-left":"15px"}},[n("v-uni-label",{attrs:{for:""}},[t._v("地址：")]),n("v-uni-view",{staticClass:"search-top"},[n("v-uni-input",{attrs:{placeholder:"输入查找位置"},model:{value:t.keyword,callback:function(o){t.keyword=o},expression:"keyword"}}),t.choosedLocation.location?n("v-uni-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.selectLocation.apply(void 0,arguments)}}},[t._v("确定")]):t._e()],1)],1)],1),n("baidu-map",{staticClass:"map",staticStyle:{height:"800upx"},attrs:{id:"mapID",center:t.center,zoom:t.zoom,"scroll-wheel-zoom":!0},on:{ready:function(o){arguments[0]=o=t.$handleEvent(o),t.ready.apply(void 0,arguments)},click:function(o){arguments[0]=o=t.$handleEvent(o),t.getPoint.apply(void 0,arguments)}}},[n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_LEFT"}}),n("bm-local-search",{staticClass:"search-list",attrs:{keyword:t.keyword,"auto-viewport":!0,zoom:"12.8"},on:{infohtmlset:function(o){arguments[0]=o=t.$handleEvent(o),t.infohtmlset.apply(void 0,arguments)}}}),n("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),n("bm-marker",{attrs:{position:t.postionMap}},[n("bm-info-window",{staticStyle:{"font-size":"14px"},attrs:{show:t.show},on:{close:function(o){arguments[0]=o=t.$handleEvent(o),t.infoWindowClose.apply(void 0,arguments)},open:function(o){arguments[0]=o=t.$handleEvent(o),t.infoWindowOpen.apply(void 0,arguments)}}},[n("p",[t._v("站点地址："+t._s(t.add.site))])])],1)],1)],1)},a=[];n.d(o,"b",function(){return i}),n.d(o,"c",function(){return a}),n.d(o,"a",function(){return e})},"4a29":function(t,o,n){var e=n("10f3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=n("4f06").default;i("154d60fa",e,!0,{sourceMap:!1,shadowMode:!1})},"610a":function(t,o,n){"use strict";var e=n("288e");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n("96cf");var i=e(n("3b8d"));if(!a)var a={};function s(){return c.apply(this,arguments)}function c(){return c=(0,i.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"请等待",mask:!0});case 1:case"end":return t.stop()}},t,this)})),c.apply(this,arguments)}function r(){return u.apply(this,arguments)}function u(){return u=(0,i.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 1:case"end":return t.stop()}},t,this)})),u.apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=(0,i.default)(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.showToast({title:o||o.msg,mask:!0,icon:0==o.status?"success":"",duration:1500});case 1:case"end":return t.stop()}},t,this)})),d.apply(this,arguments)}a.PATH="http://47.103.152.26/api";var p={showLoading:s,hideLoading:r,showToast:l};o.default=p},6985:function(t,o,n){"use strict";var e=n("288e");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=e(n("610a")),a={data:function(){return{jgNameDialog:!1,show:!1,postionMap:{lng:null,lat:null},location:"",keyword:"",zoom:12.8,address:"",add:{siteName:"",site:"",jd:"",wd:"",desce:"",type:"",jgName:"",jgNum:""},organizationData:[],jgName:"",jgNum:"",center:{},choosedLocation:{lng:"",lat:"",location:""}}},methods:{getPoint:function(t){var o=this;this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.jd=t.point.lng,this.add.wd=t.point.lat,this.zoom=t.target.getZoom();var n=new BMap.Geocoder;n.getLocation(t.point,function(t){o.choosedLocation.location=t.address,o.choosedLocation.lng=t.point.lng,o.choosedLocation.lat=t.point.lat},{poiRadius:5,numPois:1})},infohtmlset:function(t){this.choosedLocation.location=t.address,this.choosedLocation.lng=t.point.lng,this.choosedLocation.lat=t.point.lat},infoWindowClose:function(){this.show=!1},infoWindowOpen:function(){var t=this;setInterval(function(){t.show=!0},0)},ready:function(t){var o=t.BMap,n=t.map,e=this,a=new o.Geolocation;a.getCurrentPosition(function(t){this.getStatus()==BMAP_STATUS_SUCCESS?(e.center.lng=t.longitude,e.center.lat=t.latitude,n.panTo(t.point),n.enableScrollWheelZoom(!0)):i.default.showToast("获取当前位置失败")},{enableHighAccuracy:!0})},selectLocation:function(){if(""!=this.choosedLocation.location&&""!=this.choosedLocation.lng&&""!=this.choosedLocation.lat){var t=getCurrentPages(),o=(t[t.length-1],t[t.length-2]);o.form.devLocation=this.choosedLocation.location,o.form.baiduLatitude=this.choosedLocation.lat,o.form.baiduLongitude=this.choosedLocation.lng,setTimeout(function(){uni.navigateBack()},100)}else i.default.showToast("请选择设备地址")}}};o.default=a},"7e77":function(t,o,n){"use strict";n.r(o);var e=n("6985"),i=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,function(){return e[t]})}(a);o["default"]=i.a},9148:function(t,o,n){"use strict";var e=n("4a29"),i=n.n(e);i.a},bcf0:function(t,o,n){"use strict";n.r(o);var e=n("1447"),i=n("7e77");for(var a in i)"default"!==a&&function(t){n.d(o,t,function(){return i[t]})}(a);n("9148");var s,c=n("f0c5"),r=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,"7cf6b8c8",null,!1,e["a"],s);o["default"]=r.exports}}]);